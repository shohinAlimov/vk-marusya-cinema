import{r as Ct,g as xt}from"./react-DJG_os-6.js";var ue={exports:{}},K={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Me;function Et(){if(Me)return K;Me=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var u in s)u!=="key"&&(i[u]=s[u])}else i=s;return s=i.ref,{$$typeof:e,type:n,key:o,ref:s!==void 0?s:null,props:i}}return K.Fragment=t,K.jsx=r,K.jsxs=r,K}var Le;function St(){return Le||(Le=1,ue.exports=Et()),ue.exports}var Pt=St(),c=Ct();const Fn=xt(c);var z={},Te;function Ot(){if(Te)return z;Te=1,Object.defineProperty(z,"__esModule",{value:!0}),z.parse=o,z.serialize=l;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function o(d,g){const p=new i,m=d.length;if(m<2)return p;const v=g?.decode||f;let h=0;do{const b=d.indexOf("=",h);if(b===-1)break;const w=d.indexOf(";",h),R=w===-1?m:w;if(b>R){h=d.lastIndexOf(";",b-1)+1;continue}const x=u(d,h,b),I=a(d,b,x),S=d.slice(x,I);if(p[S]===void 0){let E=u(d,b+1,R),O=a(d,R,E);const F=v(d.slice(E,O));p[S]=F}h=R+1}while(h<m);return p}function u(d,g,p){do{const m=d.charCodeAt(g);if(m!==32&&m!==9)return g}while(++g<p);return p}function a(d,g,p){for(;g>p;){const m=d.charCodeAt(--g);if(m!==32&&m!==9)return g+1}return p}function l(d,g,p){const m=p?.encode||encodeURIComponent;if(!e.test(d))throw new TypeError(`argument name is invalid: ${d}`);const v=m(g);if(!t.test(v))throw new TypeError(`argument val is invalid: ${g}`);let h=d+"="+v;if(!p)return h;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);h+="; Max-Age="+p.maxAge}if(p.domain){if(!r.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);h+="; Domain="+p.domain}if(p.path){if(!n.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);h+="; Path="+p.path}if(p.expires){if(!y(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);h+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(h+="; HttpOnly"),p.secure&&(h+="; Secure"),p.partitioned&&(h+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":h+="; Priority=Low";break;case"medium":h+="; Priority=Medium";break;case"high":h+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":h+="; SameSite=Strict";break;case"lax":h+="; SameSite=Lax";break;case"none":h+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return h}function f(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function y(d){return s.call(d)==="[object Date]"}return z}Ot();var De="popstate";function Ft(e={}){function t(s,i){let{pathname:o="/",search:u="",hash:a=""}=H(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),fe("",{pathname:o,search:u,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let a=s.location.href,l=a.indexOf("#");u=l===-1?a:a.slice(0,l)}return u+"#"+(typeof i=="string"?i:G(i))}function n(s,i){L(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return Mt(t,r,n,e)}function C(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function L(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kt(){return Math.random().toString(36).substring(2,10)}function Ie(e,t){return{usr:e.state,key:e.key,idx:t}}function fe(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?H(t):t,state:r,key:t&&t.key||n||kt()}}function G({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function H(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Mt(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,u="POP",a=null,l=f();l==null&&(l=0,o.replaceState({...o.state,idx:l},""));function f(){return(o.state||{idx:null}).idx}function y(){u="POP";let v=f(),h=v==null?null:v-l;l=v,a&&a({action:u,location:m.location,delta:h})}function d(v,h){u="PUSH";let b=fe(m.location,v,h);r&&r(b,v),l=f()+1;let w=Ie(b,l),R=m.createHref(b);try{o.pushState(w,"",R)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(R)}i&&a&&a({action:u,location:m.location,delta:1})}function g(v,h){u="REPLACE";let b=fe(m.location,v,h);r&&r(b,v),l=f();let w=Ie(b,l),R=m.createHref(b);o.replaceState(w,"",R),i&&a&&a({action:u,location:m.location,delta:0})}function p(v){return Lt(v)}let m={get action(){return u},get location(){return e(s,o)},listen(v){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(De,y),a=v,()=>{s.removeEventListener(De,y),a=null}},createHref(v){return t(s,v)},createURL:p,encodeLocation(v){let h=p(v);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:d,replace:g,go(v){return o.go(v)}};return m}function Lt(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),C(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:G(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function ze(e,t,r="/"){return Tt(e,t,r,!1)}function Tt(e,t,r,n){let s=typeof t=="string"?H(t):t,i=$(s.pathname||"/",r);if(i==null)return null;let o=Ve(e);Dt(o);let u=null;for(let a=0;u==null&&a<o.length;++a){let l=Bt(i);u=Ht(o[a],l,n)}return u}function Ve(e,t=[],r=[],n=""){let s=(i,o,u)=>{let a={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(C(a.relativePath.startsWith(n),`Absolute route path "${a.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(n.length));let l=A([n,a.relativePath]),f=r.concat(a);i.children&&i.children.length>0&&(C(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),Ve(i.children,t,f,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:jt(l,i.index),routesMeta:f})};return e.forEach((i,o)=>{if(i.path===""||!i.path?.includes("?"))s(i,o);else for(let u of Ge(i.path))s(i,o,u)}),t}function Ge(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Ge(n.join("/")),u=[];return u.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&u.push(...o),u.map(a=>e.startsWith("/")&&a===""?"/":a)}function Dt(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:qt(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var It=/^:[\w-]+$/,At=3,$t=2,Qt=1,Ut=10,Nt=-2,Ae=e=>e==="*";function jt(e,t){let r=e.split("/"),n=r.length;return r.some(Ae)&&(n+=Nt),t&&(n+=$t),r.filter(s=>!Ae(s)).reduce((s,i)=>s+(It.test(i)?At:i===""?Qt:Ut),n)}function qt(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Ht(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let u=0;u<n.length;++u){let a=n[u],l=u===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",y=ne({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},f),d=a.route;if(!y&&l&&r&&!n[n.length-1].route.index&&(y=ne({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},f)),!y)return null;Object.assign(s,y.params),o.push({params:s,pathname:A([i,y.pathname]),pathnameBase:Vt(A([i,y.pathnameBase])),route:d}),y.pathnameBase!=="/"&&(i=A([i,y.pathnameBase]))}return o}function ne(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_t(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((l,{paramName:f,isOptional:y},d)=>{if(f==="*"){let p=u[d]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=u[d];return y&&!g?l[f]=void 0:l[f]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:e}}function _t(e,t=!1,r=!0){L(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,a)=>(n.push({paramName:u,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Bt(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return L(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Wt(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?H(e):e;return{pathname:r?r.startsWith("/")?r:Kt(r,t):t,search:Gt(n),hash:Jt(s)}}function Kt(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function le(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zt(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function be(e){let t=zt(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function we(e,t,r,n=!1){let s;typeof e=="string"?s=H(e):(s={...e},C(!s.pathname||!s.pathname.includes("?"),le("?","pathname","search",s)),C(!s.pathname||!s.pathname.includes("#"),le("#","pathname","hash",s)),C(!s.search||!s.search.includes("#"),le("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=r;else{let y=t.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),y-=1;s.pathname=d.join("/")}u=y>=0?t[y]:"/"}let a=Wt(s,u),l=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(l||f)&&(a.pathname+="/"),a}var A=e=>e.join("/").replace(/\/\/+/g,"/"),Vt=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Gt=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jt=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Yt(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Je=["POST","PUT","PATCH","DELETE"];new Set(Je);var Xt=["GET",...Je];new Set(Xt);var _=c.createContext(null);_.displayName="DataRouter";var ae=c.createContext(null);ae.displayName="DataRouterState";var Ye=c.createContext({isTransitioning:!1});Ye.displayName="ViewTransition";var Zt=c.createContext(new Map);Zt.displayName="Fetchers";var er=c.createContext(null);er.displayName="Await";var T=c.createContext(null);T.displayName="Navigation";var Y=c.createContext(null);Y.displayName="Location";var D=c.createContext({outlet:null,matches:[],isDataRoute:!1});D.displayName="Route";var Re=c.createContext(null);Re.displayName="RouteError";function tr(e,{relative:t}={}){C(B(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=c.useContext(T),{hash:s,pathname:i,search:o}=X(e,{relative:t}),u=i;return r!=="/"&&(u=i==="/"?r:A([r,i])),n.createHref({pathname:u,search:o,hash:s})}function B(){return c.useContext(Y)!=null}function U(){return C(B(),"useLocation() may be used only in the context of a <Router> component."),c.useContext(Y).location}var Xe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ze(e){c.useContext(T).static||c.useLayoutEffect(e)}function et(){let{isDataRoute:e}=c.useContext(D);return e?pr():rr()}function rr(){C(B(),"useNavigate() may be used only in the context of a <Router> component.");let e=c.useContext(_),{basename:t,navigator:r}=c.useContext(T),{matches:n}=c.useContext(D),{pathname:s}=U(),i=JSON.stringify(be(n)),o=c.useRef(!1);return Ze(()=>{o.current=!0}),c.useCallback((a,l={})=>{if(L(o.current,Xe),!o.current)return;if(typeof a=="number"){r.go(a);return}let f=we(a,JSON.parse(i),s,l.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:A([t,f.pathname])),(l.replace?r.replace:r.push)(f,l.state,l)},[t,r,i,s,e])}c.createContext(null);function kn(){let{matches:e}=c.useContext(D),t=e[e.length-1];return t?t.params:{}}function X(e,{relative:t}={}){let{matches:r}=c.useContext(D),{pathname:n}=U(),s=JSON.stringify(be(r));return c.useMemo(()=>we(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function nr(e,t){return tt(e,t)}function tt(e,t,r,n){C(B(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=c.useContext(T),{matches:i}=c.useContext(D),o=i[i.length-1],u=o?o.params:{},a=o?o.pathname:"/",l=o?o.pathnameBase:"/",f=o&&o.route;{let h=f&&f.path||"";rt(a,!f||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${a}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let y=U(),d;if(t){let h=typeof t=="string"?H(t):t;C(l==="/"||h.pathname?.startsWith(l),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${h.pathname}" was given in the \`location\` prop.`),d=h}else d=y;let g=d.pathname||"/",p=g;if(l!=="/"){let h=l.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(h.length).join("/")}let m=ze(e,{pathname:p});L(f||m!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),L(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=ur(m&&m.map(h=>Object.assign({},h,{params:Object.assign({},u,h.params),pathname:A([l,s.encodeLocation?s.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?l:A([l,s.encodeLocation?s.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),i,r,n);return t&&v?c.createElement(Y.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},v):v}function sr(){let e=dr(),t=Yt(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=c.createElement(c.Fragment,null,c.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),c.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",c.createElement("code",{style:i},"ErrorBoundary")," or"," ",c.createElement("code",{style:i},"errorElement")," prop on your route.")),c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),r?c.createElement("pre",{style:s},r):null,o)}var ir=c.createElement(sr,null),ar=class extends c.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?c.createElement(D.Provider,{value:this.props.routeContext},c.createElement(Re.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function or({routeContext:e,match:t,children:r}){let n=c.useContext(_);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),c.createElement(D.Provider,{value:e},r)}function ur(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r?.errors;if(i!=null){let a=s.findIndex(l=>l.route.id&&i?.[l.route.id]!==void 0);C(a>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,a+1))}let o=!1,u=-1;if(r)for(let a=0;a<s.length;a++){let l=s[a];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(u=a),l.route.id){let{loaderData:f,errors:y}=r,d=l.route.loader&&!f.hasOwnProperty(l.route.id)&&(!y||y[l.route.id]===void 0);if(l.route.lazy||d){o=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((a,l,f)=>{let y,d=!1,g=null,p=null;r&&(y=i&&l.route.id?i[l.route.id]:void 0,g=l.route.errorElement||ir,o&&(u<0&&f===0?(rt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):u===f&&(d=!0,p=l.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,f+1)),v=()=>{let h;return y?h=g:d?h=p:l.route.Component?h=c.createElement(l.route.Component,null):l.route.element?h=l.route.element:h=a,c.createElement(or,{match:l,routeContext:{outlet:a,matches:m,isDataRoute:r!=null},children:h})};return r&&(l.route.ErrorBoundary||l.route.errorElement||f===0)?c.createElement(ar,{location:r.location,revalidation:r.revalidation,component:g,error:y,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}function Ce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lr(e){let t=c.useContext(_);return C(t,Ce(e)),t}function cr(e){let t=c.useContext(ae);return C(t,Ce(e)),t}function hr(e){let t=c.useContext(D);return C(t,Ce(e)),t}function xe(e){let t=hr(e),r=t.matches[t.matches.length-1];return C(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function fr(){return xe("useRouteId")}function dr(){let e=c.useContext(Re),t=cr("useRouteError"),r=xe("useRouteError");return e!==void 0?e:t.errors?.[r]}function pr(){let{router:e}=lr("useNavigate"),t=xe("useNavigate"),r=c.useRef(!1);return Ze(()=>{r.current=!0}),c.useCallback(async(s,i={})=>{L(r.current,Xe),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var $e={};function rt(e,t,r){!t&&!$e[e]&&($e[e]=!0,L(!1,r))}c.memo(mr);function mr({routes:e,future:t,state:r}){return tt(e,void 0,r,t)}function Mn({to:e,replace:t,state:r,relative:n}){C(B(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=c.useContext(T);L(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=c.useContext(D),{pathname:o}=U(),u=et(),a=we(e,be(i),o,n==="path"),l=JSON.stringify(a);return c.useEffect(()=>{u(JSON.parse(l),{replace:t,state:r,relative:n})},[u,l,n,t,r]),null}function yr(e){C(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vr({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){C(!B(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=c.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=H(r));let{pathname:a="/",search:l="",hash:f="",state:y=null,key:d="default"}=r,g=c.useMemo(()=>{let p=$(a,o);return p==null?null:{location:{pathname:p,search:l,hash:f,state:y,key:d},navigationType:n}},[o,a,l,f,y,d,n]);return L(g!=null,`<Router basename="${o}"> is not able to match the URL "${a}${l}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:c.createElement(T.Provider,{value:u},c.createElement(Y.Provider,{children:t,value:g}))}function Ln({children:e,location:t}){return nr(de(e),t)}function de(e,t=[]){let r=[];return c.Children.forEach(e,(n,s)=>{if(!c.isValidElement(n))return;let i=[...t,s];if(n.type===c.Fragment){r.push.apply(r,de(n.props.children,i));return}C(n.type===yr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),C(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=de(n.props.children,i)),r.push(o)}),r}var te="get",re="application/x-www-form-urlencoded";function oe(e){return e!=null&&typeof e.tagName=="string"}function gr(e){return oe(e)&&e.tagName.toLowerCase()==="button"}function br(e){return oe(e)&&e.tagName.toLowerCase()==="form"}function wr(e){return oe(e)&&e.tagName.toLowerCase()==="input"}function Rr(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Cr(e,t){return e.button===0&&(!t||t==="_self")&&!Rr(e)}var Z=null;function xr(){if(Z===null)try{new FormData(document.createElement("form"),0),Z=!1}catch{Z=!0}return Z}var Er=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ce(e){return e!=null&&!Er.has(e)?(L(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${re}"`),null):e}function Sr(e,t){let r,n,s,i,o;if(br(e)){let u=e.getAttribute("action");n=u?$(u,t):null,r=e.getAttribute("method")||te,s=ce(e.getAttribute("enctype"))||re,i=new FormData(e)}else if(gr(e)||wr(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||u.getAttribute("action");if(n=a?$(a,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||te,s=ce(e.getAttribute("formenctype"))||ce(u.getAttribute("enctype"))||re,i=new FormData(u,e),!xr()){let{name:l,type:f,value:y}=e;if(f==="image"){let d=l?`${l}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else l&&i.append(l,y)}}else{if(oe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=te,n=null,s=re,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Pr(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Or(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Fr(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await Pr(i,r);return o.links?o.links():[]}return[]}));return Tr(n.flat(1).filter(Or).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Qe(e,t,r,n,s,i){let o=(a,l)=>r[l]?a.route.id!==r[l].route.id:!0,u=(a,l)=>r[l].pathname!==a.pathname||r[l].route.path?.endsWith("*")&&r[l].params["*"]!==a.params["*"];return i==="assets"?t.filter((a,l)=>o(a,l)||u(a,l)):i==="data"?t.filter((a,l)=>{let f=n.routes[a.route.id];if(!f||!f.hasLoader)return!1;if(o(a,l)||u(a,l))return!0;if(a.route.shouldRevalidate){let y=a.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function kr(e,t,{includeHydrateFallback:r}={}){return Mr(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Mr(e){return[...new Set(e)]}function Lr(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Tr(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(Lr(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dr=new Set([100,101,204,205]);function Ir(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&$(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function nt(){let e=c.useContext(_);return Ee(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ar(){let e=c.useContext(ae);return Ee(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Se=c.createContext(void 0);Se.displayName="FrameworkContext";function st(){let e=c.useContext(Se);return Ee(e,"You must render this element inside a <HydratedRouter> element"),e}function $r(e,t){let r=c.useContext(Se),[n,s]=c.useState(!1),[i,o]=c.useState(!1),{onFocus:u,onBlur:a,onMouseEnter:l,onMouseLeave:f,onTouchStart:y}=t,d=c.useRef(null);c.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let m=h=>{h.forEach(b=>{o(b.isIntersecting)})},v=new IntersectionObserver(m,{threshold:.5});return d.current&&v.observe(d.current),()=>{v.disconnect()}}},[e]),c.useEffect(()=>{if(n){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[n]);let g=()=>{s(!0)},p=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,d,{}]:[i,d,{onFocus:V(u,g),onBlur:V(a,p),onMouseEnter:V(l,g),onMouseLeave:V(f,p),onTouchStart:V(y,g)}]:[!1,d,{}]}function V(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Qr({page:e,...t}){let{router:r}=nt(),n=c.useMemo(()=>ze(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?c.createElement(Nr,{page:e,matches:n,...t}):null}function Ur(e){let{manifest:t,routeModules:r}=st(),[n,s]=c.useState([]);return c.useEffect(()=>{let i=!1;return Fr(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function Nr({page:e,matches:t,...r}){let n=U(),{manifest:s,routeModules:i}=st(),{basename:o}=nt(),{loaderData:u,matches:a}=Ar(),l=c.useMemo(()=>Qe(e,t,a,s,n,"data"),[e,t,a,s,n]),f=c.useMemo(()=>Qe(e,t,a,s,n,"assets"),[e,t,a,s,n]),y=c.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,m=!1;if(t.forEach(h=>{let b=s.routes[h.route.id];!b||!b.hasLoader||(!l.some(w=>w.route.id===h.route.id)&&h.route.id in u&&i[h.route.id]?.shouldRevalidate||b.hasClientLoader?m=!0:p.add(h.route.id))}),p.size===0)return[];let v=Ir(e,o);return m&&p.size>0&&v.searchParams.set("_routes",t.filter(h=>p.has(h.route.id)).map(h=>h.route.id).join(",")),[v.pathname+v.search]},[o,u,n,s,l,t,e,i]),d=c.useMemo(()=>kr(f,s),[f,s]),g=Ur(f);return c.createElement(c.Fragment,null,y.map(p=>c.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),d.map(p=>c.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),g.map(({key:p,link:m})=>c.createElement("link",{key:p,...m})))}function jr(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var it=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{it&&(window.__reactRouterVersion="7.6.3")}catch{}function Tn({basename:e,children:t,window:r}){let n=c.useRef();n.current==null&&(n.current=Ft({window:r,v5Compat:!0}));let s=n.current,[i,o]=c.useState({action:s.action,location:s.location}),u=c.useCallback(a=>{c.startTransition(()=>o(a))},[o]);return c.useLayoutEffect(()=>s.listen(u),[s,u]),c.createElement(vr,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var at=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=c.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:u,target:a,to:l,preventScrollReset:f,viewTransition:y,...d},g){let{basename:p}=c.useContext(T),m=typeof l=="string"&&at.test(l),v,h=!1;if(typeof l=="string"&&m&&(v=l,it))try{let O=new URL(window.location.href),F=l.startsWith("//")?new URL(O.protocol+l):new URL(l),N=$(F.pathname,p);F.origin===O.origin&&N!=null?l=N+F.search+F.hash:h=!0}catch{L(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=tr(l,{relative:s}),[w,R,x]=$r(n,d),I=Br(l,{replace:o,state:u,target:a,preventScrollReset:f,relative:s,viewTransition:y});function S(O){t&&t(O),O.defaultPrevented||I(O)}let E=c.createElement("a",{...d,...x,href:v||b,onClick:h||i?t:S,ref:jr(g,R),target:a,"data-discover":!m&&r==="render"?"true":void 0});return w&&!m?c.createElement(c.Fragment,null,E,c.createElement(Qr,{page:b})):E});ot.displayName="Link";var qr=c.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:u,children:a,...l},f){let y=X(o,{relative:l.relative}),d=U(),g=c.useContext(ae),{navigator:p,basename:m}=c.useContext(T),v=g!=null&&Gr(y)&&u===!0,h=p.encodeLocation?p.encodeLocation(y).pathname:y.pathname,b=d.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(b=b.toLowerCase(),w=w?w.toLowerCase():null,h=h.toLowerCase()),w&&m&&(w=$(w,m)||w);const R=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let x=b===h||!s&&b.startsWith(h)&&b.charAt(R)==="/",I=w!=null&&(w===h||!s&&w.startsWith(h)&&w.charAt(h.length)==="/"),S={isActive:x,isPending:I,isTransitioning:v},E=x?t:void 0,O;typeof n=="function"?O=n(S):O=[n,x?"active":null,I?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let F=typeof i=="function"?i(S):i;return c.createElement(ot,{...l,"aria-current":E,className:O,ref:f,style:F,to:o,viewTransition:u},typeof a=="function"?a(S):a)});qr.displayName="NavLink";var Hr=c.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=te,action:u,onSubmit:a,relative:l,preventScrollReset:f,viewTransition:y,...d},g)=>{let p=zr(),m=Vr(u,{relative:l}),v=o.toLowerCase()==="get"?"get":"post",h=typeof u=="string"&&at.test(u),b=w=>{if(a&&a(w),w.defaultPrevented)return;w.preventDefault();let R=w.nativeEvent.submitter,x=R?.getAttribute("formmethod")||o;p(R||w.currentTarget,{fetcherKey:t,method:x,navigate:r,replace:s,state:i,relative:l,preventScrollReset:f,viewTransition:y})};return c.createElement("form",{ref:g,method:v,action:m,onSubmit:n?a:b,...d,"data-discover":!h&&e==="render"?"true":void 0})});Hr.displayName="Form";function _r(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ut(e){let t=c.useContext(_);return C(t,_r(e)),t}function Br(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=et(),a=U(),l=X(e,{relative:i});return c.useCallback(f=>{if(Cr(f,t)){f.preventDefault();let y=r!==void 0?r:G(a)===G(l);u(e,{replace:y,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[a,u,l,r,n,t,e,s,i,o])}var Wr=0,Kr=()=>`__${String(++Wr)}__`;function zr(){let{router:e}=ut("useSubmit"),{basename:t}=c.useContext(T),r=fr();return c.useCallback(async(n,s={})=>{let{action:i,method:o,encType:u,formData:a,body:l}=Sr(n,t);if(s.navigate===!1){let f=s.fetcherKey||Kr();await e.fetch(f,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:a,body:l,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:a,body:l,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function Vr(e,{relative:t}={}){let{basename:r}=c.useContext(T),n=c.useContext(D);C(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...X(e||".",{relative:t})},o=U();if(e==null){i.search=o.search;let u=new URLSearchParams(i.search),a=u.getAll("index");if(a.some(f=>f==="")){u.delete("index"),a.filter(y=>y).forEach(y=>u.append("index",y));let f=u.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:A([r,i.pathname])),G(i)}function Gr(e,t={}){let r=c.useContext(Ye);C(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ut("useViewTransitionState"),s=X(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=$(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=$(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ne(s.pathname,o)!=null||ne(s.pathname,i)!=null}[...Dr];var W=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},j=typeof window>"u"||"Deno"in globalThis;function k(){}function Jr(e,t){return typeof e=="function"?e(t):e}function pe(e){return typeof e=="number"&&e>=0&&e!==1/0}function lt(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Q(e,t){return typeof e=="function"?e(t):e}function M(e,t){return typeof e=="function"?e(t):e}function Ue(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:u}=e;if(o){if(n){if(t.queryHash!==Pe(o,t.options))return!1}else if(!J(t.queryKey,o))return!1}if(r!=="all"){const a=t.isActive();if(r==="active"&&!a||r==="inactive"&&a)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||i&&!i(t))}function Ne(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(q(t.options.mutationKey)!==q(i))return!1}else if(!J(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Pe(e,t){return(t?.queryKeyHashFn||q)(e)}function q(e){return JSON.stringify(e,(t,r)=>me(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function J(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>J(e[r],t[r])):!1}function ct(e,t){if(e===t)return e;const r=je(e)&&je(t);if(r||me(e)&&me(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,u=r?[]:{},a=new Set(n);let l=0;for(let f=0;f<o;f++){const y=r?f:i[f];(!r&&a.has(y)||r)&&e[y]===void 0&&t[y]===void 0?(u[y]=void 0,l++):(u[y]=ct(e[y],t[y]),u[y]===e[y]&&e[y]!==void 0&&l++)}return s===o&&l===s?e:u}return t}function se(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function je(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function me(e){if(!qe(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!qe(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qe(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yr(e){return new Promise(t=>{setTimeout(t,e)})}function ye(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ct(e,t):t}function Xr(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Zr(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Oe=Symbol();function ht(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Oe?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ft(e,t){return typeof e=="function"?e(...t):!!e}var en=class extends W{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!j&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Fe=new en,tn=class extends W{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!j&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},ie=new tn;function ve(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function rn(e){return Math.min(1e3*2**e,3e4)}function dt(e){return(e??"online")==="online"?ie.isOnline():!0}var pt=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function he(e){return e instanceof pt}function mt(e){let t=!1,r=0,n=!1,s;const i=ve(),o=m=>{n||(d(new pt(m)),e.abort?.())},u=()=>{t=!0},a=()=>{t=!1},l=()=>Fe.isFocused()&&(e.networkMode==="always"||ie.isOnline())&&e.canRun(),f=()=>dt(e.networkMode)&&e.canRun(),y=m=>{n||(n=!0,e.onSuccess?.(m),s?.(),i.resolve(m))},d=m=>{n||(n=!0,e.onError?.(m),s?.(),i.reject(m))},g=()=>new Promise(m=>{s=v=>{(n||l())&&m(v)},e.onPause?.()}).then(()=>{s=void 0,n||e.onContinue?.()}),p=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(h){m=Promise.reject(h)}Promise.resolve(m).then(y).catch(h=>{if(n)return;const b=e.retry??(j?0:3),w=e.retryDelay??rn,R=typeof w=="function"?w(r,h):w,x=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,h);if(t||!x){d(h);return}r++,e.onFail?.(r,h),Yr(R).then(()=>l()?void 0:g()).then(()=>{t?d(h):p()})})};return{promise:i,cancel:o,continue:()=>(s?.(),i),cancelRetry:u,continueRetry:a,canStart:f,start:()=>(f()?p():g().then(p),i)}}var nn=e=>setTimeout(e,0);function sn(){let e=[],t=0,r=u=>{u()},n=u=>{u()},s=nn;const i=u=>{t?e.push(u):s(()=>{r(u)})},o=()=>{const u=e;e=[],u.length&&s(()=>{n(()=>{u.forEach(a=>{r(a)})})})};return{batch:u=>{let a;t++;try{a=u()}finally{t--,t||o()}return a},batchCalls:u=>(...a)=>{i(()=>{u(...a)})},schedule:i,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var P=sn(),yt=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pe(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(j?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},an=class extends yt{#t;#e;#r;#n;#s;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=on(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=ye(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(k).catch(k):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>M(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Oe||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Q(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!lt(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const r=new AbortController,n=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},s=()=>{const a=ht(this.options,t),f=(()=>{const y={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(y),y})();return this.#o=!1,this.options.persister?this.options.persister(a,f,this):a(f)},o=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:s};return n(a),a})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta});const u=a=>{he(a)&&a.silent||this.#i({type:"error",error:a}),he(a)||(this.#r.config.onError?.(a,this),this.#r.config.onSettled?.(this.state.data,a,this)),this.scheduleGc()};return this.#s=mt({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:a=>{if(a===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(a)}catch(l){u(l);return}this.#r.config.onSuccess?.(a,this),this.#r.config.onSettled?.(a,this.state.error,this),this.scheduleGc()},onError:u,onFail:(a,l)=>{this.#i({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#s.start()}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...vt(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return he(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),P.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function vt(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dt(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function on(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var un=class extends W{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,s=t.queryHash??Pe(n,t);let i=this.get(s);return i||(i=new an({client:e,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){P.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Ue(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Ue(e,r)):t}notify(e){P.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){P.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){P.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ln=class extends yt{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||gt(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=mt({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,i)=>{this.#n({type:"failed",failureCount:s,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const s=await this.#r.start();return await this.#e.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#e.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#e.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#e.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#n({type:"error",error:s})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),P.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function gt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cn=class extends W{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new ln({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=ee(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=ee(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ee(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(s=>s.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=ee(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){P.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Ne(t,r))}findAll(e={}){return this.getAll().filter(t=>Ne(e,t))}notify(e){P.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return P.batch(()=>Promise.all(e.map(t=>t.continue().catch(k))))}};function ee(e){return e.options.scope?.id}function He(e){return{onFetch:(t,r)=>{const n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},a=0;const l=async()=>{let f=!1;const y=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},d=ht(t.options,t.fetchOptions),g=async(p,m,v)=>{if(f)return Promise.reject();if(m==null&&p.pages.length)return Promise.resolve(p);const b=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:m,direction:v?"backward":"forward",meta:t.options.meta};return y(I),I})(),w=await d(b),{maxPages:R}=t.options,x=v?Zr:Xr;return{pages:x(p.pages,w,R),pageParams:x(p.pageParams,m,R)}};if(s&&i.length){const p=s==="backward",m=p?hn:_e,v={pages:i,pageParams:o},h=m(n,v);u=await g(v,h,p)}else{const p=e??i.length;do{const m=a===0?o[0]??n.initialPageParam:_e(n,u);if(a>0&&m==null)break;u=await g(u,m),a++}while(a<p)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=l}}}function _e(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function hn(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Dn=class{#t;#e;#r;#n;#s;#a;#o;#i;constructor(e={}){this.#t=e.queryCache||new un,this.#e=e.mutationCache||new cn,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Fe.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=ie.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Q(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(n.queryHash)?.state.data,o=Jr(t,i);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return P.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;P.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return P.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=P.batch(()=>this.#t.findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(k).catch(k)}invalidateQueries(e,t={}){return P.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=P.batch(()=>this.#t.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(k)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(k)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(Q(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(k).catch(k)}fetchInfiniteQuery(e){return e.behavior=He(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(k).catch(k)}ensureInfiniteQueryData(e){return e.behavior=He(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ie.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(q(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{J(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#s.set(q(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(n=>{J(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Pe(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Oe&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},fn=class extends W{constructor(e,t){super(),this.options=t,this.#t=e,this.#i=null,this.#o=ve(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#s;#a;#o;#i;#m;#f;#d;#l;#c;#u;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Be(this.#e,this.options)?this.#h():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ge(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ge(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#R(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof M(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#C(),this.#e.setOptions(this.options),t._defaulted&&!se(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&We(this.#e,r,this.options,t)&&this.#h(),this.updateResult(),n&&(this.#e!==r||M(this.options.enabled,this.#e)!==M(t.enabled,this.#e)||Q(this.options.staleTime,this.#e)!==Q(t.staleTime,this.#e))&&this.#y();const s=this.#v();n&&(this.#e!==r||M(this.options.enabled,this.#e)!==M(t.enabled,this.#e)||s!==this.#u)&&this.#g(s)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return pn(this,r)&&(this.#n=r,this.#a=this.options,this.#s=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#h({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#h(e){this.#C();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(k)),t}#y(){this.#w();const e=Q(this.options.staleTime,this.#e);if(j||this.#n.isStale||!pe(e))return;const r=lt(this.#n.dataUpdatedAt,e)+1;this.#l=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#g(e){this.#R(),this.#u=e,!(j||M(this.options.enabled,this.#e)===!1||!pe(this.#u)||this.#u===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||Fe.isFocused())&&this.#h()},this.#u))}#b(){this.#y(),this.#g(this.#v())}#w(){this.#l&&(clearTimeout(this.#l),this.#l=void 0)}#R(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const r=this.#e,n=this.options,s=this.#n,i=this.#s,o=this.#a,a=e!==r?e.state:this.#r,{state:l}=e;let f={...l},y=!1,d;if(t._optimisticResults){const E=this.hasListeners(),O=!E&&Be(e,t),F=E&&We(e,r,t,n);(O||F)&&(f={...f,...vt(l.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:m}=f;d=f.data;let v=!1;if(t.placeholderData!==void 0&&d===void 0&&m==="pending"){let E;s?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(E=s.data,v=!0):E=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,E!==void 0&&(m="success",d=ye(s?.data,E,t),y=!0)}if(t.select&&d!==void 0&&!v)if(s&&d===i?.data&&t.select===this.#m)d=this.#f;else try{this.#m=t.select,d=t.select(d),d=ye(s?.data,d,t),this.#f=d,this.#i=null}catch(E){this.#i=E}this.#i&&(g=this.#i,d=this.#f,p=Date.now(),m="error");const h=f.fetchStatus==="fetching",b=m==="pending",w=m==="error",R=b&&h,x=d!==void 0,S={status:m,fetchStatus:f.fetchStatus,isPending:b,isSuccess:m==="success",isError:w,isInitialLoading:R,isLoading:R,data:d,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>a.dataUpdateCount||f.errorUpdateCount>a.errorUpdateCount,isFetching:h,isRefetching:h&&!b,isLoadingError:w&&!x,isPaused:f.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:w&&x,isStale:ke(e,t),refetch:this.refetch,promise:this.#o,isEnabled:M(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const E=N=>{S.status==="error"?N.reject(S.error):S.data!==void 0&&N.resolve(S.data)},O=()=>{const N=this.#o=S.promise=ve();E(N)},F=this.#o;switch(F.status){case"pending":e.queryHash===r.queryHash&&E(F);break;case"fulfilled":(S.status==="error"||S.data!==F.value)&&O();break;case"rejected":(S.status!=="error"||S.error!==F.reason)&&O();break}}return S}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#a=this.options,this.#s.data!==void 0&&(this.#d=this.#e),se(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,s=typeof n=="function"?n():n;if(s==="all"||!s&&!this.#p.size)return!0;const i=new Set(s??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(o=>{const u=o;return this.#n[u]!==e[u]&&i.has(u)})};this.#x({listeners:r()})}#C(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#x(e){P.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function dn(e,t){return M(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Be(e,t){return dn(e,t)||e.state.data!==void 0&&ge(e,t,t.refetchOnMount)}function ge(e,t,r){if(M(t.enabled,e)!==!1&&Q(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&ke(e,t)}return!1}function We(e,t,r,n){return(e!==t||M(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ke(e,r)}function ke(e,t){return M(t.enabled,e)!==!1&&e.isStaleByTime(Q(t.staleTime,e))}function pn(e,t){return!se(e.getCurrentResult(),t)}var mn=class extends W{#t;#e=void 0;#r;#n;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),se(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&q(r.mutationKey)!==q(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#a(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#a()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#s(){const t=this.#r?.state??gt();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){P.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,n),this.#n.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#n.onError?.(t.error,r,n),this.#n.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},bt=c.createContext(void 0),wt=e=>{const t=c.useContext(bt);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},An=({client:e,children:t})=>(c.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Pt.jsx(bt.Provider,{value:e,children:t})),Rt=c.createContext(!1),yn=()=>c.useContext(Rt);Rt.Provider;function vn(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var gn=c.createContext(vn()),bn=()=>c.useContext(gn),wn=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Rn=e=>{c.useEffect(()=>{e.clearReset()},[e])},Cn=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||ft(r,[e.error,n])),xn=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},En=(e,t)=>e.isLoading&&e.isFetching&&!t,Sn=(e,t)=>e?.suspense&&t.isPending,Ke=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Pn(e,t,r){const n=yn(),s=bn(),i=wt(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",xn(o),wn(o,s),Rn(s);const u=!i.getQueryCache().get(o.queryHash),[a]=c.useState(()=>new t(i,o)),l=a.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(c.useSyncExternalStore(c.useCallback(y=>{const d=f?a.subscribe(P.batchCalls(y)):k;return a.updateResult(),d},[a,f]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),c.useEffect(()=>{a.setOptions(o)},[o,a]),Sn(o,l))throw Ke(o,a,s);if(Cn({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,l),o.experimental_prefetchInRender&&!j&&En(l,n)&&(u?Ke(o,a,s):i.getQueryCache().get(o.queryHash)?.promise)?.catch(k).finally(()=>{a.updateResult()}),o.notifyOnChangeProps?l:a.trackResult(l)}function $n(e,t){return Pn(e,fn)}function Qn(e,t){const r=wt(),[n]=c.useState(()=>new mn(r,e));c.useEffect(()=>{n.setOptions(e)},[n,e]);const s=c.useSyncExternalStore(c.useCallback(o=>n.subscribe(P.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=c.useCallback((o,u)=>{n.mutate(o,u).catch(k)},[n]);if(s.error&&ft(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}export{Tn as H,ot as L,qr as N,Dn as Q,Fn as R,Qn as a,et as b,An as c,Ln as d,yr as e,kn as f,Mn as g,Pt as j,c as r,$n as u};
